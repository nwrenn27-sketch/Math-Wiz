<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Wiz - Calculus Practice</title>

    <!-- Styles -->
    <link rel="stylesheet" href="practice-styles.css">

    <!-- MathJax configuration for LaTeX math rendering -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">Math Wiz</h1>
                <p class="tagline">Practice calculus problems with step-by-step solutions</p>
            </div>
        </header>

        <main class="main">
            <!-- SCREEN 1: Problem Selection -->
            <section class="screen active" id="selection-screen" aria-label="Problem selection">
                <div class="selection-container">
                    <h2 class="section-title">Choose a topic to practice:</h2>

                    <!-- Topic Grid -->
                    <div class="topic-grid" id="topic-grid" role="list">
                        <!-- Topics will be dynamically inserted here -->
                    </div>

                    <h3 class="section-subtitle">Difficulty Level:</h3>

                    <!-- Difficulty Buttons -->
                    <div class="difficulty-buttons" role="radiogroup" aria-label="Difficulty level">
                        <button class="difficulty-btn" data-difficulty="easy" role="radio" aria-checked="false">
                            <span class="difficulty-label">Easy</span>
                            <span class="difficulty-desc">Basic concepts</span>
                        </button>
                        <button class="difficulty-btn" data-difficulty="medium" role="radio" aria-checked="false">
                            <span class="difficulty-label">Medium</span>
                            <span class="difficulty-desc">Multi-step</span>
                        </button>
                        <button class="difficulty-btn" data-difficulty="hard" role="radio" aria-checked="false">
                            <span class="difficulty-label">Hard</span>
                            <span class="difficulty-desc">Complex scenarios</span>
                        </button>
                    </div>

                    <!-- Problem List (appears after topic + difficulty selected) -->
                    <div class="problem-list hidden" id="problem-list">
                        <h3 class="section-subtitle" id="problem-list-title">Select a problem:</h3>
                        <div class="problem-cards" id="problem-cards">
                            <!-- Problem cards will be dynamically inserted here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- SCREEN 2: Problem Solver -->
            <section class="screen" id="solver-screen" aria-label="Problem solver">
                <!-- Back Button -->
                <button class="back-btn" id="back-btn" aria-label="Back to problem selection">
                    ‚Üê Back to Problems
                </button>

                <!-- Problem Display -->
                <div class="problem-container">
                    <h2 class="problem-title" id="problem-title">Problem Title</h2>
                    <div class="problem-statement" id="problem-statement">
                        <!-- Problem text will be inserted here -->
                    </div>

                    <!-- Visual Diagram -->
                    <div class="visual-container" id="visual-container">
                        <canvas id="diagram-canvas" width="600" height="400" aria-label="Problem diagram"></canvas>
                        <p class="visual-description" id="visual-description">Diagram description</p>
                    </div>
                </div>

                <!-- Solution Steps Container -->
                <div class="solution-container">
                    <!-- Progress Indicator -->
                    <div class="progress-indicator" id="progress-indicator" aria-live="polite" aria-atomic="true">
                        <span id="progress-text">Not started</span>
                    </div>

                    <!-- Steps Display -->
                    <div class="steps-display" id="steps-display">
                        <div class="step-placeholder" id="step-placeholder">
                            <p>Click "Show Next Step" to begin the solution</p>
                        </div>
                        <!-- Steps will be revealed here one at a time -->
                    </div>

                    <!-- Control Buttons -->
                    <div class="controls" role="toolbar" aria-label="Solution controls">
                        <button class="control-btn primary" id="next-step-btn" aria-label="Show next step">
                            Show Next Step
                        </button>
                        <button class="control-btn secondary" id="prev-step-btn" disabled aria-label="Show previous step">
                            Previous Step
                        </button>
                        <button class="control-btn secondary" id="show-all-btn" aria-label="Show full solution">
                            Show Full Solution
                        </button>
                        <button class="control-btn secondary" id="show-answer-btn" aria-label="Reveal final answer">
                            Reveal Final Answer
                        </button>
                        <button class="control-btn secondary" id="reset-btn" aria-label="Reset and hide solution">
                            Reset
                        </button>
                    </div>

                    <!-- Final Answer Display (hidden until revealed) -->
                    <div class="final-answer hidden" id="final-answer">
                        <h3>Final Answer:</h3>
                        <div class="answer-content" id="answer-content">
                            <!-- Answer will be inserted here -->
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Math Wiz - Practice with confidence</p>
        </footer>
    </div>

    <!-- Load problem library and scripts -->
    <script src="problems.js"></script>
    <script src="practice-app.js"></script>
</body>
</html>
